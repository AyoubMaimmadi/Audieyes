name: Check build, code style, and tests

on:
    workflow_dispatch:
    pull_request:
    # push:

jobs:
    lintandformat:
        name: ğŸ§¹ Audieyes Backend Linting & Testing
        runs-on: ubuntu-latest
        timeout-minutes: 5
        env:
            CI: false
        steps:
            - name: ğŸ›’ Checkout
              uses: actions/checkout@v2
            - name: ğŸŸ© Use Node 18.x
              uses: actions/setup-node@v1
              with:
                  node-version: '18.x'
            - name: ğŸ“¦ Install dependencies for server
              run: npm i requirements.txt
            - name: ğŸ§ª Run tests
              run: cd tests && python3 conftest
